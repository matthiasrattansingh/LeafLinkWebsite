<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/footer.css">

  <link rel="stylesheet" href="css/buildhome.css">
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="x-icon" href = "pictures/Green Geometric Wind Energy Turbine Logo.png"> 
  <title>LeafLink</title>
</head>
<body>
  <header id="header">
    <a href="index.html" class="logo"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" 
      viewBox="0 0 375 374.999991" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="064bb1306f">
     <path class="svg-color" d="M 4 5 L 371 5 L 371 370.386719 L 4 370.386719 Z M 4 5 " clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#064bb1306f)"><path class = "svg-color" fill="#0e1514" d="M 367.546875 136.488281 C 367.554688 136.480469 367.554688 136.480469 367.558594 136.480469 C 371.109375 132.929688 371.109375 127.171875 367.558594 123.621094 L 280.75 36.808594 C 261.25 17.304688 229.515625 17.304688 210.015625 36.808594 L 181.078125 65.742188 C 180.484375 66.339844 179.96875 66.972656 179.410156 67.589844 C 178.386719 56.351562 173.585938 45.394531 165.007812 36.808594 L 136.070312 7.871094 C 135.914062 7.714844 135.726562 7.59375 135.566406 7.453125 C 135.265625 7.195312 134.96875 6.917969 134.648438 6.703125 C 131.117188 4.375 126.324219 4.761719 123.214844 7.871094 L 36.398438 94.679688 C 16.894531 114.179688 16.894531 145.914062 36.398438 165.410156 L 65.328125 194.335938 C 65.328125 194.34375 65.332031 194.34375 65.332031 194.351562 C 65.921875 194.941406 66.5625 195.460938 67.171875 196.019531 C 55.9375 197.046875 44.984375 201.84375 36.398438 210.425781 L 7.476562 239.351562 C 7.46875 239.359375 7.46875 239.359375 7.460938 239.359375 C 3.914062 242.910156 3.914062 248.667969 7.460938 252.21875 L 94.269531 339.027344 C 103.71875 348.476562 116.277344 353.675781 129.632812 353.675781 C 142.996094 353.675781 155.558594 348.476562 165 339.027344 L 193.9375 310.089844 C 194.523438 309.503906 195.042969 308.863281 195.601562 308.253906 C 196.628906 319.488281 201.429688 330.441406 210.007812 339.027344 L 238.929688 367.941406 C 238.9375 367.949219 238.945312 367.953125 238.949219 367.960938 C 240.730469 369.742188 243.050781 370.625 245.378906 370.625 C 247.707031 370.625 250.03125 369.742188 251.808594 367.960938 L 338.617188 281.152344 C 358.117188 261.652344 358.117188 229.917969 338.617188 210.417969 L 309.679688 181.480469 C 309.085938 180.886719 308.453125 180.371094 307.835938 179.8125 C 319.078125 178.785156 330.03125 173.996094 338.617188 165.410156 Z M 267.894531 49.664062 L 348.273438 130.042969 L 325.765625 152.550781 C 313.347656 164.960938 293.164062 164.960938 280.75 152.550781 C 280.738281 152.535156 280.722656 152.53125 280.699219 152.515625 L 251.875 123.691406 C 251.851562 123.667969 251.839844 123.636719 251.816406 123.617188 C 234.777344 106.578125 208.40625 104.433594 189.011719 117.164062 C 181.882812 104.976562 183.503906 89.046875 193.941406 78.601562 L 222.878906 49.664062 C 235.289062 37.253906 255.476562 37.253906 267.894531 49.664062 Z M 325.757812 268.304688 L 245.386719 348.675781 L 222.878906 326.167969 C 210.46875 313.757812 210.46875 293.566406 222.878906 281.152344 C 222.894531 281.140625 222.902344 281.125 222.917969 281.101562 L 251.761719 252.253906 C 251.777344 252.238281 251.800781 252.234375 251.816406 252.21875 C 268.855469 235.179688 271.003906 208.808594 258.265625 189.417969 C 270.453125 182.292969 286.382812 183.914062 296.824219 194.351562 L 325.757812 223.289062 C 338.171875 235.691406 338.171875 255.894531 325.757812 268.304688 Z M 136.085938 239.367188 C 136.078125 239.359375 136.078125 239.351562 136.070312 239.351562 L 107.132812 210.417969 C 107.105469 210.386719 107.066406 210.363281 107.039062 210.335938 C 106.480469 209.777344 105.882812 209.292969 105.304688 208.773438 C 113.890625 207.992188 122.007812 205.03125 129.03125 200.179688 L 152.140625 223.28125 L 173.710938 244.851562 C 169.113281 247.34375 163.949219 248.675781 158.570312 248.675781 C 150.082031 248.683594 142.097656 245.371094 136.085938 239.367188 Z M 49.253906 107.535156 L 129.632812 27.15625 L 152.140625 49.664062 C 164.554688 62.074219 164.554688 82.269531 152.140625 94.679688 C 152.128906 94.695312 152.121094 94.710938 152.105469 94.730469 L 123.257812 123.578125 C 123.242188 123.59375 123.226562 123.601562 123.207031 123.617188 C 113.757812 133.066406 108.554688 145.625 108.554688 158.980469 C 108.554688 168.882812 111.425781 178.347656 116.761719 186.429688 C 111.933594 189.261719 106.441406 190.804688 100.699219 190.804688 C 92.195312 190.804688 84.203125 187.492188 78.199219 181.480469 C 78.191406 181.472656 78.191406 181.472656 78.183594 181.472656 L 49.253906 152.542969 C 36.851562 140.140625 36.851562 119.949219 49.253906 107.535156 Z M 210.015625 165.417969 L 232.523438 187.925781 L 210.015625 210.429688 L 187.507812 232.9375 L 165 210.429688 L 142.492188 187.925781 L 187.507812 142.910156 Z M 175.265625 129.433594 L 152.148438 152.558594 L 130.578125 174.128906 C 128.085938 169.53125 126.753906 164.367188 126.753906 158.988281 C 126.753906 150.5 130.058594 142.523438 136.046875 136.511719 C 136.054688 136.503906 136.070312 136.496094 136.078125 136.480469 L 165.015625 107.542969 C 165.042969 107.515625 165.066406 107.476562 165.097656 107.445312 C 165.652344 106.882812 166.152344 106.277344 166.679688 105.699219 C 167.433594 114.0625 170.320312 122.246094 175.265625 129.433594 Z M 199.769531 246.390625 L 222.871094 223.28125 L 244.433594 201.726562 C 250.9375 213.773438 249.128906 229.152344 238.972656 239.332031 C 238.964844 239.339844 238.949219 239.34375 238.9375 239.359375 L 210 268.296875 C 209.96875 268.328125 209.949219 268.363281 209.917969 268.394531 C 209.359375 268.953125 208.875 269.546875 208.355469 270.125 C 207.589844 261.539062 204.628906 253.421875 199.769531 246.390625 Z M 245.996094 175.675781 L 222.871094 152.558594 L 201.316406 130.996094 C 213.363281 124.5 228.742188 126.308594 238.921875 136.457031 C 238.929688 136.464844 238.9375 136.480469 238.949219 136.488281 L 267.886719 165.425781 C 267.917969 165.453125 267.953125 165.476562 267.984375 165.503906 C 268.550781 166.0625 269.152344 166.5625 269.738281 167.089844 C 261.371094 167.847656 253.183594 170.730469 245.996094 175.675781 Z M 107.128906 326.167969 L 26.753906 245.796875 L 49.261719 223.289062 C 61.679688 210.886719 81.867188 210.886719 94.277344 223.289062 C 94.292969 223.304688 94.308594 223.3125 94.328125 223.324219 L 123.175781 252.171875 C 123.191406 252.1875 123.199219 252.203125 123.214844 252.21875 C 132.664062 261.667969 145.222656 266.867188 158.578125 266.867188 C 168.480469 266.867188 177.945312 263.996094 186.027344 258.660156 C 188.859375 263.484375 190.402344 268.980469 190.402344 274.726562 C 190.402344 283.230469 187.089844 291.222656 181.078125 297.234375 L 152.140625 326.167969 C 139.738281 338.578125 119.546875 338.578125 107.128906 326.167969 Z M 107.128906 326.167969 " fill-opacity="1" fill-rule="nonzero"/></g></svg>LeafLink</a>
    <div class="menuToggle"></div>
    <nav>
      <ul class="ul1">
        <li class="li1"><a href="Resources.html">About us</a></li>
        <li class="li1"><a href="solutions.html">Energy Solutions</a></li>
        <li class="li1"><a href="#">Community +</a>
          <ul>
            <li class="li1"><a href="Effects.html">Effects</a></li>
            <li><a href="news.html">News</a></li>
            <li><a href="buildhome.html">Plan a Home</a></li>
          </ul>
        </li>
        <li class="li2"><a href="sign-up.html">Log In</a></li>
      </ul>
    </nav>
  </header>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script>
    let menuToggle = document.querySelector('.menuToggle');
    let header = document.querySelector('header');
    menuToggle.onclick = function(){
      header.classList.toggle('active');
    }
  </script>
    <div class="img-fixed fixed1"><img src="pictures/Add a little bit of body text.png" id="darkmode-toggle"></div>

  <main>
    <div class="fullpage-container">

      <div class="fullpage fullpage1">
        <div class="fullpage-one-container">
          <div class="img-absolute1"><img src="pictures/Untitled design (3).svg"></div>
          <div class="first-home-img animatable fadeInUp"><img class="home-img" src="pictures/3dhouse (1).svg"></div>
          <div class="textbox1 animatable bounceInLeft">
            <h1>Plan Your Home</h1>
            <p>We guide you through the steps needed to transform your home into an environmentally friendly haven.</p>
            <div class="search-container">
              <input type="text" id="search-input" placeholder="Search for a state...">
              <div id="autocomplete-list" class="autocomplete-list"></div>
            </div>
          </div>
          <div class="img-absolute2"><img src="pictures/Untitled design (3).svg"></div>
        </div>
      </div>

      <div class="fullpage fullpage2">
        <div class="fullpage-two-container">
          <h1>Take our Home Estimation Quiz: </h1>
          <div class="container9">
            <div class="image-container">
              <img id="question-image" src="" alt="Question Image">
            </div>
            <div class="questionnaire-container">
              <div id="progress-bar"><div class="progress"></div></div>
              <div id="questionnaire">
                <div id="question"></div>
                <div id="options"></div>
                <button id="next-btn" onclick="nextQuestion()">Next</button>
              </div>
            </div>
          </div>

        </div>

      </div>
      <div class="fullpage fullpage3">

        <div class="fullpage-third-container">
          <div class="card-and-text2">
            <div class="textbox2">
              <p>Embrace Sustainability, Save Money, and Secure Our Future</p>
              <h1>
                Why You Should Switch to Green Renewable Energy
              </h1>
            </div>
            <div class="paragraph-home">
              <p>
                Switching to Green Energy benefits you and the environment. Reducing carbon footprint and helping the fight against climate change, Renewable Energy, like solar and wind, 
                are sustainable and reliable sources that protect our future.  Although the initial cost might be higher, you'll save money over time with lower utility bills and possible government incentives.
                Plus, these systems often need less maintenance and last longer. By going green, you use less fossil fuel, which is better for the environment and less dependent on fluctuating energy markets. It's a great way to contribute to a healthier planet and set a positive example for others.
              </p>
            </div>
            <form id="form">
              <div class="search-container2 animatable bounceInLeft">
                <div><p>Enter your Personalized Code: Do not share your code with anyone </p></div>
                <input type="text" required id="search-input" placeholder="Put Your Code (not required)...">
                <div id="search-results" class="autocomplete-results animatable bounceInLeft"></div>
              </div>
              <div class="final-box">
                <button type="submit"><a href="ewe.html">Create Your Home</a></button>
              </div>
            </form>
          </div>
          <div class="second-home-img animatable fadeInUp"><img class="home-img" src="pictures/3dhouse (5).svg"></div>
        </div>
      </div>

    </div>
  </main>

  
  <script defer src="js/app.js"></script>
  <script defer src="js/search2.js"></script>
  <script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollToPlugin.min.js"></script>

  <script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"></script>
  
  <script>
    gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

    let timeln = gsap.timeline({
        scrollTrigger: {
            trigger: ".fullpage-container",
            pin: true,
            pinSpacing: true,
            start: "left-=40px left",
            end: "+=2000",
            scrub: 1
        }
    });

    timeln.addLabel('card1');
    timeln.to('.fullpage1', {
        xPercent: 0,
        opacity: 1
    });

    timeln.from('.fullpage2', {
        xPercent: 75,
        opacity: 0
    });
    timeln.addLabel("card2");

    timeln.to(".fullpage1", {
        scale: 0.95,
        xPercent: -0.5,
        opacity: 0.5
    }, "-=0.3");

    timeln.to('.fullpage2', {
        xPercent: 0,
        opacity: 1
    });

    timeln.from('.fullpage3', {
        xPercent: 75,
        opacity: 0
    });
    timeln.addLabel('card3');

    timeln.to(".fullpage2", {
        scale: 0.98,
        xPercent: -0.4,
        opacity: 0.6
    }, "-=0.3");

    timeln.to(".fullpage3", {
        xPercent: 0,
        opacity: 1
    });

    timeln.to('.fullpage3', {});


    // QUESTIONS 
    const questions = [
    {
      question: "Are you intreseted in Solar panels? If so which brand: ",
      image: "pictures/tery.png",
      options: [
        { title: "SunPower", price: 9940 },
        { title: "LG Solar", price: 15400 },
        { title: "Panasonic", price: 8260 },
        { title: "Trina Solar", price: 8680},
        { title: "N/A", price: 0 }
      ]
    },
    {
      question: "What type of wall insullation do you want? (based on a 2000sqft home)",
      image: "pictures/Untitled design (7).png",
      options: [
        { title: "Owens Corning (Fiberglass Batt)", price: 2000 },
        { title: "CertainTeed (Spray Foam)", price: 2000 },
        { title: "Johns Manville (Blown-In Fiberglass)", price: 6000 },
        { title: "Knauf Insulation (Rockwool", price: 5000 },
        { title: "CertainTeed (Cellulose)", price: 3600 }
      ]
    },
    {
      question: "What type of heating do you prefer (based on a 2000sqft home)",
      image: "pictures/Untitled design (8).png",
      options: [
        { title: "Furnace (Gas or Electric):", price: 7500 },
        { title: "Boiler (Gas or Oil)", price: 10000 },
        { title: "Heat Pump (Air Source)", price: 10000 },
        { title: "Heat Pump (Ground Source)", price: 25000 },
        { title: "Wood or Pellet Stove:", price: 14000 }
      ]
    },
    {
      question: "Are you intrested in wind energy? If so which brand: ",
      image: "pictures/pexels-pixabay-219971.jpg",
      options: [
        { title: "Bergey Excel 10 (HAWT)", price: 1000 },
        { title: "Marlec Rutland FM910-4 (VAWT)", price: 40000 },
        { title: "WindEnergy7 RoofMill (HAWT)", price: 5000 },
        { title: "Helix Wind Savonius 2.0 (VAWT)", price: 12000 },
        { title: "N/A", price: 0 }
      ]
    },
    {
      question: "Which type of windows would you like? ",
      image: "pictures/Untitled design (9).png",
      options: [
        { title: "Single-Hung Windows", price: 100 },
        { title: "Double-Hung Windows", price: 600 },
        { title: "Casement Windows", price: 1000 },
        { title: "Sliding Windows:", price: 800 },
        { title: "Picture Windows", price: 1200 }
      ]
    }
    ];

    let currentQuestion = 0;
    let totalCost = 0;
    const selectedPrices = [];

    function loadQuestion() {
      const questionEl = document.getElementById('question');
      const optionsEl = document.getElementById('options');
      const questionImage = document.getElementById('question-image');

      const questionData = questions[currentQuestion];
      questionEl.textContent = questionData.question;
      questionImage.src = questionData.image;

      optionsEl.innerHTML = '';
      questionData.options.forEach((option, index) => {
        const optionCard = document.createElement('div');
        optionCard.className = 'card';
        optionCard.innerHTML = `<h3>${option.title}</h3><p>$${option.price}</p>`;
        optionCard.addEventListener('click', () => selectOption(index));
        optionsEl.appendChild(optionCard);
      });

      updateProgressBar();
    }

    function selectOption(index) {
      const optionCards = document.querySelectorAll('.card');
      optionCards.forEach(card => card.classList.remove('selected'));
      optionCards[index].classList.add('selected');
      
      selectedPrices[currentQuestion] = questions[currentQuestion].options[index].price;
    }

    function nextQuestion() {
      if (document.querySelector('.card.selected')) {
        if (currentQuestion < questions.length - 1) {
          currentQuestion++;
          loadQuestion();
        } else {
          showResult();
        }
      } else {
        alert('Please select an option before proceeding.');
      }
    }

    function updateProgressBar() {
      const progressBar = document.querySelector('.progress');
      progressBar.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
    }

    function showResult() {
      const questionnaireEl = document.getElementById('questionnaire');
      totalCost = selectedPrices.reduce((acc, price) => acc + price, 0);
      const code = '-' + Math.floor(Math.random() * 1000000);

      questionnaireEl.innerHTML = `
        <h2>Thank you for completing the questionnaire!</h2>
        <p>Your total estimated price is: $${totalCost}</p>
        <p>Your discount code is: ${code} for 25% off</p>
        <p>Save you code and do not share your code with anyone.</p>
      `;
    }

    document.addEventListener('DOMContentLoaded', loadQuestion);  


    //Jquery animation

		jQuery(function($) {
		var doAnimations = function() {

			var offset = $(window).scrollTop() + $(window).height(),
					$animatables = $('.animatable');

			if ($animatables.length == 0) {
				$(window).off('scroll', doAnimations);
			}

			$animatables.each(function(i) {
				var $animatable = $(this);
				if (($animatable.offset().top + $animatable.height() - 20) < offset) {
					$animatable.removeClass('animatable').addClass('animated');
				}
			});

		};

		$(window).on('scroll', doAnimations);
		$(window).trigger('scroll');

	});

  </script>
</body>
</html>